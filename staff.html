<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Staff Dashboard | THE BAG</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database-compat.js"></script>
</head>
<body class="bg-slate-900 text-white p-8">
    <header class="mb-12 border-b border-slate-800 pb-6">
        <h1 class="text-4xl font-black italic text-blue-500 uppercase">Staff Dashboard</h1>
        <p class="text-slate-500 uppercase text-xs tracking-[0.3em] mt-2 font-bold">Live Order Stream</p>
    </header>

    <div id="order-list" class="grid grid-cols-1 md:grid-cols-3 gap-6">
        </div>

    <script>
        const firebaseConfig = { apiKey: "...", databaseURL: "...", projectId: "..." };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        db.ref('orders').on('value', (snap) => {
            const orders = snap.val();
            const list = document.getElementById('order-list');
            list.innerHTML = "";
            for(let id in orders) {
                list.innerHTML += `
                    <div class="bg-white text-slate-900 p-6 rounded-[2rem] shadow-xl">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h3 class="font-black text-xl uppercase">${orders[id].name}</h3>
                                <p class="text-blue-600 font-bold uppercase text-xs">${orders[id].grade}</p>
                            </div>
                        </div>
                        <p class="text-slate-500 font-medium mb-6">${orders[id].items}</p>
                        <button onclick="clearOrder('${id}')" class="w-full bg-slate-100 py-3 rounded-xl font-bold text-xs uppercase hover:bg-red-50 hover:text-red-600 transition">Clear Order</button>
                    </div>
                `;
            }
        });

        function clearOrder(id) { db.ref('orders/' + id).remove(); }
    </script>
</body>
</html>
